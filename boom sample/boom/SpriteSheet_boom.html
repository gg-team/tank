<!DOCTYPE html>
<html>
<head>
	<title>EaselJS: Simple SpriteSheet Example</title>

	<link href="assets/demoStyles.css" rel="stylesheet" type="text/css" />

	<!-- Note: All core EaselJS classes are listed here: -->
	<script type="text/javascript" src="../src/createjs/events/Event.js"></script>
	<script type="text/javascript" src="../src/createjs/events/EventDispatcher.js"></script>
	<script type="text/javascript" src="../src/createjs/utils/IndexOf.js"></script>
	<script type="text/javascript" src="../src/easeljs/utils/UID.js"></script>
	<script type="text/javascript" src="../src/easeljs/utils/Ticker.js"></script>
	<script type="text/javascript" src="../src/easeljs/geom/Matrix2D.js"></script>
	<script type="text/javascript" src="../src/easeljs/geom/Point.js"></script>
	<script type="text/javascript" src="../src/easeljs/geom/Rectangle.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Shadow.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/SpriteSheet.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Graphics.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/DisplayObject.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Container.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Stage.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Bitmap.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Sprite.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/BitmapAnimation.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/BitmapText.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Shape.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/Text.js"></script>
	<script type="text/javascript" src="../src/easeljs/display/DOMElement.js"></script>
	<script type="text/javascript" src="../src/easeljs/events/MouseEvent.js"></script>
	<script type="text/javascript" src="../src/easeljs/filters/Filter.js"></script>
	<script type="text/javascript" src="../src/easeljs/ui/Touch.js"></script>
	<script type="text/javascript" src="../src/easeljs/utils/SpriteSheetUtils.js"></script>
	<script type="text/javascript" src="../src/easeljs/utils/SpriteSheetBuilder.js"></script>

	<!-- We also provide hosted minified versions of all CreateJS libraries.
	  http://code.createjs.com -->

	<script type="text/javascript">
        var stage;
		var grant;
		var xVel = 5;
		var grantHeight = 88;
		var grantWidth = 66;
		var moveLeft = false;
		var moveRight = false;

		function init() {

			// create a new stage and point it at our canvas:
			stage = new createjs.Stage(document.getElementById("testCanvas"));

			// Define a spritesheet. Note that this data was exported by ZoÃ«.
			var ss = new createjs.SpriteSheet({
					"images": ["picture/boom4.png"],
					"frames": {"height": 88, "count": 5, "width": 66},
					"animations": { run: [1,5]}
				});

		    grant = new createjs.Sprite(ss,"run");
			grant.x = 500;
			grant.y = 200;
			console.log("2");
			// Add Grant to the stage, and add it as a listener to Ticker to get updates each frame.
			stage.addChild(grant);
			createjs.Ticker.setFPS(30);
			createjs.Ticker.addEventListener("tick", tick);
			grant.gotoAndStop(0);
			document.onkeydown = handleKeyDown;
			document.onkeyup = handleKeyUp;	
		}
			
		function handleKeyDown(e) {
				switch (e.keyCode) {
					case 37:
						grant.gotoAndPlay("run");
						console.log(grant.x);
						moveLeft = true;
						break;
					case 38:
						alert('up');
						break;
					case 39:
						grant.gotoAndPlay("run");
						moveRight = true;
						console.log(grant.x);
						break;
					case 40:
						alert('down');
						break;
				}
			};
		function handleKeyUp(e) {
				switch (e.keyCode) {
					case 37:
						grant.gotoAndStop(0);
						moveLeft = false;
						break;
					case 38:
						alert('up');
						break;
					case 39:
						grant.gotoAndStop(0);
						moveRight = false;
						break;
					case 40:
						alert('down');
						break;
				}
			};
			
	function tick(event) {

		if (moveLeft) {
			grant.x -= xVel;
			if (grant.scaleX < 0) {
				grant.scaleX *= -1;
				grant.x -= grantWidth;
			}
		 }else if (moveRight) {
			grant.x += xVel;
			if (grant.scaleX > 0) {
				grant.scaleX *= -1;
				grant.x += grantWidth;
			}
			}

		
		
		stage.update();
	}		
	</script>
</head>
<body onload="init();">

	<header id="header" class="EaselJS">
		<h1>BOOM!!</h1>
	</header>

	<div class="canvasHolder">
		<canvas id="testCanvas" width="1000" height="400"></canvas>
	</div>
</body>
</html>